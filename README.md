# Take Home Test from Chili Piper - QA Automation Engineer

## Getting Started

This repository contains [Gmail's](https://mail.google.com/) main functionality automated API test cases.

### Main Features Test Cases:

#### 1. List messages

|                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Description**  | This endpoint lists the messages in the user's mailbox. <br>This is a main functionality endpoint because it is always called when a user accesses Gmail's landing page after authentication.                                                                                                                                                                                                                                                                        |
| **Precondition** | Ensure that the inbox has 3 messages                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Endpoint**     | `https://gmail.googleapis.com/gmail/v1/users/{userId}/messages`                                                                                                                                                                                                                                                                                                                                                                                                      |
| **Request**      | Method: `GET`<br>Path Parameters: <br> - `{userId}`: The user's email address.                                                                                                                                                                                                                                                                                                                                                                                       |
| **Response**     | Status code: `200` <br> Body Fields: <br> - `messages[]`: List of messages. Note that each message resource contains only an id and a threadId; verify that the property is of length `3` <br> - `nextPageToken` - Token to retrieve the next page of results in the list; verify that the property does not exist because the list does not have a next page. <br> - `resultSizeEstimate ` - Estimated total number of results; verify the property has a value `3`. |

#### 2. Send message

|                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Description** | This endpoint sends a message based on the provided recipients in the To, Cc, and Bcc headers. <br>Since Gmail is an email service, the ability to send email messages is a mandatory feature.                                                                                                                                                                                                                                                                                                                                            |
| **Endpoint**    | `https://gmail.googleapis.com/gmail/v1/users/{userId}/messages/send`                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **Request**     | Method: `POST`<br>Path Parameters: <br> - `{userId}`: The user's email address. <br>Body Fields: <br>- `raw`: The entire email message in an RFC 2822 formatted and base64url encoded string.                                                                                                                                                                                                                                                                                                                                             |
| **Response**    | Status code: `200` <br> Body Fields: <br> - `id`: an immutable message ID. <br> - `threadId`: message thread id. <br> - `labelIds[] `: list of message label ids. <br> - `snippet`: a short excerpt of the mail message. <br> - `historyId`: The ID of the last history record that modified this message. <br> - `payload`: The parsed email structure in the message parts. <br> - `sizeEstimate`: Estimated size in bytes of the message. <br>- `raw`: The entire email message in an RFC 2822 formatted and base64url encoded string. |
| **Comment**     | To make the request using the `raw` field only provide an object contains `from`, `to`, `subject`, and `message` properties and then encode into a base64 string                                                                                                                                                                                                                                                                                                                                                                          |

#### 3. Mark messages as read

|                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Description**  | To mark a message as read involves modifying the labels of a message. <br>Each new message received is marked as unread; the modify endpoint is therefore essential since it ensures there is a proper organization of the messages, categorizing them as read an unread.                                                                                                                                                                                                                                                                                                            |
| **Precondition** | Ensure that the inbox has at least 1 messages                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Endpoint**     | `https://gmail.googleapis.com/gmail/v1/users/{userId}/messages/{id}/modify`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Request**      | Method: `POST`<br>Path Parameters: <br> - `{userId}`: The user's email address. <br> - `{id}`: The ID of the message to modify. <br>Body Fields: <br>- `addLabelIds[]`: A list of IDs of labels to add to this message. <br>- `removeLabelIds[]`: A list of IDs of labels to remove to this message; for this case we include the label id `UNREAD`                                                                                                                                                                                                                                  |
| **Response**     | Status code: `200` <br> Body Fields: <br> - `id`: an immutable message ID. <br> - `threadId`: message thread id. <br> - `labelIds[] `: list of message label ids. verify that the id `UNREAD` dose not exist <br> - `snippet`: a short excerpt of the mail message. <br> - `historyId`: The ID of the last history record that modified this message. <br> - `payload`: The parsed email structure in the message parts. <br> - `sizeEstimate`: Estimated size in bytes of the message. <br>- `raw`: The entire email message in an RFC 2822 formatted and base64url encoded string. |

#### 4. Move message to the trash

|                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Description**  | This endpoint moves the message to the trash. <br>This endpint is essential because it ensure that we have a sort of soft delete option of message for 30 day and incase we changed our mind on deleting the message we can always untrash it                                                                                                                                                                                                                                                                                                                               |
| **Precondition** | Ensure that the inbox has at least 1 messages                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Endpoint**     | `https://gmail.googleapis.com/gmail/v1/users/{userId}/messages/{id}/trash`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Request**      | Method: `POST`<br>Path Parameters: <br> - `{userId}`: The user's email address. <br> - `{id}`: The ID of the message to trash. <br>Body Fields: The request body must be empty.                                                                                                                                                                                                                                                                                                                                                                                             |
| **Response**     | Status code: `200` <br> Body Fields: <br> - `id`: an immutable message ID. <br> - `threadId`: message thread id. <br> - `labelIds[] `: list of message label ids. verify that the id `TRASH` exists <br> - `snippet`: a short excerpt of the mail message. <br> - `historyId`: The ID of the last history record that modified this message. <br> - `payload`: The parsed email structure in the message parts. <br> - `sizeEstimate`: Estimated size in bytes of the message. <br>- `raw`: The entire email message in an RFC 2822 formatted and base64url encoded string. |

#### 5. Delete a message

|                  |                                                                                                                                                                                                                                                                                                 |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Description**  | This endpoint Immediately and permanently deletes the specified message. This operation cannot be undone. <br>This endpint is essential because it ensure that we have clean up the inboxes of messages that are no longer needed and incase of a linit on the storage quota free up some space |
| **Precondition** | Ensure that the inbox has at least 1 messages                                                                                                                                                                                                                                                   |
| **Endpoint**     | `https://gmail.googleapis.com/gmail/v1/users/{userId}/messages/{id}`                                                                                                                                                                                                                            |
| **Request**      | Method: `DELETE`<br>Path Parameters: <br> - `{userId}`: the user's email address. <br> - `{id}`: The ID of the message to delete. <br>Body Fields: The request body must be empty.                                                                                                              |
| **Response**     | Status code: `204` <br> Body Fields: the response body is empty.                                                                                                                                                                                                                                 |
| **Comment**      | After a successful deleted try to get the message and verify that the response has a status code of `401` amd a message `Requested entity was not found.`                                                                                                                                       |
